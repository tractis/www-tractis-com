<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>Tractis - Contracts you can enforce</title>
<!-- Mimic Internet Explorer 7 -->
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" >
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link rel="shortcut icon" type="image/x-icon" href="../images/tractis-help-favicon.ico" />
<link rel="shortcut icon" type="image/icon" href="../images/tractis-help-favicon.ico" />
<link rel="apple-touch-icon" href="https://www.tractis.com/images/iphone-favicon.png" />
<link href="../stylesheets/tractis/main.css%3F1521105613.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../stylesheets/island_tractis.css%3F1521105588.css" media="screen" rel="stylesheet" type="text/css" />

<!--[if lte IE 6]>
  <link href="/stylesheets/ie6.css?1521105588" media="screen" rel="stylesheet" type="text/css" />    
  <![endif]-->
<!--[if gte IE 7]>
  <link href="/stylesheets/ie7.css?1521105588" media="screen" rel="stylesheet" type="text/css" />
<![endif]-->
<link rel="stylesheet" href="wp-content/themes/tractis/style.css" type="text/css" media="screen" title="no title" charset="utf-8" />
<link rel="stylesheet" href="../stylesheets/print-help.css" type="text/css" media="print" />
  <script type="text/javascript" src="../jquery/jquery.js%3F1360401146"></script>
  <script>jQuery.noConflict();</script>
  
  	
  
</head>

<body id="tractis-help">
<div id="topbar" class="classname">
<div class="fill">
  <ul class="mainbar">





      <li><a href="/">Home</a></li>





      





      

    </ul>
    
      <p class="loginbar">
        
        
      </p>
    
    <div class="clear"></div>
  </div>
</div>


<div id="header">
  <div class="logo">
    <h1><a href="/">Tractis</a></h1>
    
      <ol>
  <li><strong>Spain</strong></li>
  
    <li><div id="change_contry"><a href="index.html%3Fp=2683&amp;language=es.html#" onclick="tractis_ajax(&quot;/pagepart/change_country&quot;, 'change_contry'); return false;">Change country</a></div></li>
  
</ol>
<ol>
  <li><strong>in English</strong></li>
  <li><a href="index.html%3Fp=2683&amp;language=es.html#" onclick="tractis_ajax_link(&quot;/pagepart/change_lang?lang=ca&amp;format=html&quot;, true); return false;">Catalan</a> · <a href="index.html%3Fp=2683&amp;language=es.html#" onclick="tractis_ajax_link(&quot;/pagepart/change_lang?lang=es&amp;format=html&quot;, true); return false;">Spanish</a></li>
</ol>

    
    <div class="clear"></div>
  </div>

  
  
  <div class="clear"></div>
</div>










<script type="text/javascript">
//<![CDATA[

	window.onload = function() { document.title='Tractis - Crear pasarela de contratación'.replace(/</g,'&lt;').replace(/>/g,'&gt;').unescapeHTML() } 
//]]>

</script>
<div id="breadcrumb">
<p><strong>Te encuentras aquí:</strong> <a href="/help">Ayuda</a>  <a href='index.html%3Fp=2683&amp;language=es.html'></a> → <a href='index.html%3Fcat=8&amp;language=es.html'>Tractis Signatures</a> → <a href='index.html%3Fcat=292&amp;language=es.html'>Tractis Contracts</a> → <a href='index.html%3Fcat=289&amp;language=es.html'>Integración con Tractis Contracts</a> → <a href='index.html%3Fcat=143&amp;language=es.html'>Integración con Tractis Contracts vía API</a> </p>
</div>
<div id="subheader">
<div class="titles">
<h2>Ayuda</h2>
</div>
<div class="clear"></div>
</div>

<div id="main">
<div id="content">
<div class="help-search">
	<form method="get" id="searchform" action="index.html">
	<table border="0" cellpadding="5">
		<tr>
			<td class="nowrap" style="width:50%"><label>¿Cómo podemos ayudarte?:</label></td>
			<td style="width:43%"><input type="text" value="" name="s" id="s" /></td>
			<td><input type="submit" id="searchsubmit" value="Buscar" /></td>
		</tr>
	</table>
	</form>
</div>
		

<div class="post" id="post-2683">
			
			<div class="post-header">
				<h3>Crear pasarela de contratación</h3>
			</div>

			<div class="entry">
				
				<p>Asegúrate de tener claros los <a href="index.html%3Fp=2470&amp;language=es.html">requisitos de la API REST de Tractis</a> antes de empezar la integración.</p>
<p><strong>Para usar esta acción es necesario tener claro cómo funciona la acción <a href="index.html%3Fp=2474&amp;language=es.html" target="_self">Crear contrato</a></strong></p>
<h3>Descripción</h3>
<p>Esta acción te ofrece una pasarela de contratación integrable como parte de los flujos de trabajo definidos en tu aplicación. El flujo es el siguiente:</p>
<ol>
<li>El usuario suministra los datos necesarios para el contrato en tu aplicación web.</li>
<li>Tu aplicación crea el contrato en Tractis mediante la API a partir de los datos suministrados por el usuario y recoge la URL del contrato creado.</li>
<li>Tu aplicación redirige al usuario a la URL del nuevo contrato creado en Tractis.</li>
<li>Una vez el usuario ha firmado el contrato es redirigido de vuelta a tu aplicación web.</li>
</ol>
<p>La acción se invoca con: <strong>POST /contracts/gateway</strong></p>
<h3>Utilización</h3>
<p>Esta acción es igual que <a href="index.html%3Fp=2474&amp;language=es.html" target="_self">Crear contrato</a> y <strong>recibe los mismos parámetros</strong>. La única diferencia de esta acción es el contenido de la cabecera Location en la respuesta:</p>
<ul>
<li>Si el contrato se ha creado para que lo firme un cliente sin iniciar sesión en tractis: La cabecera Location tiene la URL de acceso única para el usuario. (ver &#8220;<a href="index.html%3Fp=2474&amp;language=es.html#contratos_anonimos">Crear contrato &gt; Enviando contratos para firmar a tu cliente sin que se registre en Tractis</a>&#8220;)</li>
<li>En cualquier otro caso: La cabecera Location tiene la URL del contrato como en la acción <a href="index.html%3Fp=2474&amp;language=es.html" target="_self">Crear contrato</a>.</li>
</ul>
<p>Hay que tener en cuenta que, pese a que podamos redirigir al usuario al contrato directamente, por defecto, este recibirá la URL por email igualmente (a no ser que se especifique dentro del member el parámetro invitation_notify a false, la responsabilidad de llevar e informar al usuario queda en tus manos).</p>
<p><strong>Impotante</strong>: Sólo se permite especificar un miembro con permisos de firma que pueda firmar el contrato sin haber iniciado sesión (invited=false).</p>
<h3>Ejemplos de invocación</h3>
<p>En este primer ejemplo vemos como la acción devuelve la URL de acceso única del cliente cuando especificamos que no queremos requerir a nuestro cliente registrarse en Tractis  (ver &#8220;<a href="index.html%3Fp=2474&amp;language=es.html#contratos_anonimos">Crear contrato &gt; Enviando contratos para firmar a tu cliente sin que se registre en Tractis</a>&#8220;).</p>
<pre><code>
  $ curl -u demo@tractis.com:password \
         -H 'Accept: application/xml' \
         -H 'Content-Type: application/xml' \
         -i -X POST https://www.tractis.com/contracts/gateway \
         -d \
'&lt;contract&gt;
  &lt;name&gt;Contrato de ejemplo con envío de invitación&lt;/name&gt;
  &lt;redirect-when-signed&gt;http://www.google.es&lt;/redirect-when-signed&gt;
  &lt;team&gt;
    &lt;member&gt;
      &lt;email&gt;ernesto.jimenez@tractis.com&lt;/email&gt;
      &lt;sign&gt;true&lt;/sign&gt;
      &lt;invited&gt;false&lt;/invited&gt;
    &lt;/member&gt;
  &lt;/team&gt;
&lt;/contract&gt;'
  HTTP/1.1 201 Created
  Status: 201 Created
  Location: <strong>https://www.tractis.com/contracts/749311594/token/c2682cc5025bcf7e8b167f3a3485c52c65a43448</strong>
  Content-Type: application/xml; charset=utf-8

</code></pre>
<p>En el siguiente ejemplo vemos como la cabecera Location contiene la URL normal del contrato cuando no especificamos que no queremos requerir a nuestro cliente registrarse en Tractis.</p>
<pre><code>
  $ curl -u demo@tractis.com:password \
         -H 'Accept: application/xml' \
         -H 'Content-Type: application/xml' \
         -i -X POST https://www.tractis.com/contracts/gateway \
         -d \
'&lt;contract&gt;
  &lt;name&gt;Contrato de confidencialidad&lt;/name&gt;
&lt;/contract&gt;'
  HTTP/1.1 201 Created
  Status: 201 Created
  Location: https://www.tractis.com/contracts/<strong>574874770</strong>
  Content-Type: application/xml; charset=utf-8

</code></pre>
<h3>Cómo crear una pasarela de contratación</h3>
<p>Para usar Tractis como pasarela de contratación es necesario:</p>
<ul>
<li>Crear el contrato mediante la acción <strong>POST /contracts/gateway</strong> con:
<ul>
<li>El parámetro <code>redirect-when-signed</code> (ver <a href="index.html%3Fp=2474&amp;language=es.html" target="_self">Crear contrato</a>).</li>
<li>La plantilla que queremos cargar (ver &#8220;<a href="index.html%3Fp=2474&amp;language=es.html#contrato_con_plantilla">Crear contrato &gt; Crear un contrato a partir de una plantilla</a>&#8220;).</li>
<li>Los detalles del usuario que va a firmar (ver &#8220;<a href="index.html%3Fp=2474&amp;language=es.html#contratos_anonimos">Crear contrato &gt; Enviando contratos para firmar a tu cliente sin que se registre en Tractis</a>&#8220;).</li>
</ul>
</li>
<li>Obtener la cabecera Location de la respuesta de la API y enviar al usuario a la URL indicada en la cabecera (ver <a href="http://en.wikipedia.org/wiki/HTTP_302">redirección 302</a>).</li>
<li>Una vez el usuario haya firmado el contrato será redirigido a la URL que se especificó en el parámetro <code>redirect-when-signed</code> al crear el contrato.</li>
</ul>

				

			</div>

	</div>
</div>

	<div id="menu">
		<script type="text/javascript">function setLang() {document.getElementById("glink").href = "https://translate.google.com/translate?u=http://www.tractis.com/help/?p=2683&sl=es&tl=" + document.fgt.tl.value;return;} </script><div class="menus info"><div class="mtitle"><h3>Translate this article</h3></div><form name="fgt" action="https://translate.google.com/translate" method="GET"><input type="hidden" name="u" value="http://www.tractis.com/help/?p=2683" /><input name="sl" value="es" type="hidden" /><div class="mcontent"><p>Select your language and translate this article using Google Translate.</p><div class="grilla"><div class="labels"><label>Translate to:</label></div><div class="inputs"><select name="tl" style="width:auto" onChange="setLang()" ><option value='' selected >Choose your language...</option>
<option value='ar'>Arabic</option>
<option value='bg'>Bulgarian</option>
<option value='ca'>Catalan</option>
<option value='zh-CN'>Chinese (Simplified)</option>
<option value='zh-TW'>Chinese (Traditional)</option>
<option value='hr'>Croatian</option>
<option value='cs'>Czech</option>
<option value='da'>Danish</option>
<option value='nl'>Dutch</option>
<option value='en'>English</option>
<option value='tl'>Filipino</option>
<option value='fi'>Finnish</option>
<option value='fr'>French</option>
<option value='de'>German</option>
<option value='el'>Greek</option>
<option value='iw'>Hebrew</option>
<option value='hi'>Hindi</option>
<option value='id'>Indonesian</option>
<option value='it'>Italian</option>
<option value='ja'>Japanese</option>
<option value='ko'>Korean</option>
<option value='lv'>Latvian</option>
<option value='lt'>Lithuanian</option>
<option value='no'>Norwegian</option>
<option value='pl'>Polish</option>
<option value='pt'>Portuguese</option>
<option value='ro'>Romanian</option>
<option value='ru'>Russian</option>
<option value='sr'>Serbian</option>
<option value='sk'>Slovak</option>
<option value='sl'>Slovenian</option>
<option value='es'>Spanish</option>
<option value='sv'>Swedish</option>
<option value='uk'>Ukrainian</option>
<option value='vi'>Vietnamese</option>
</select></div><div class="clear"></div></div></div><div class="mfooter"><a class="button" id="glink" href="index.html%3Fp=2683&amp;language=es.html#" >Translate</a></h3></div></form></div>				
	</div>
	
	<div class="clear"></div>

</div>





<div id="footer">
  
  <h6 class="isologo">Tractis</h6>
  <p>© 2018 Tractis. ·
  <a href="https://www.tractis.com/legal_notice">Legal Notice</a> ·
  <a href="https://www.tractis.com/terms_of_service">Terms of Service</a> ·
  <a href="https://www.tractis.com/privacy_policy">Privacy Policy</a> ·
  <a href="https://www.tractis.com/help">Help</a> ·
  
  <a href="mailto:tractis@tractis.comm">Contact</a></p>
  
  
  
  <div class="clear"></div>
</div>



<script src="../javascripts/tractis/en.js%3F1502104086" type="text/javascript"></script>





<script src="../javascripts/certificate_hunter.js%3F1521105588" type="text/javascript"></script>
<div id="alerts"><input id="alerts-shown" name="alerts-shown" type="hidden" value="false" /><script type="text/javascript">
//<![CDATA[
Alerts.initial(function(){
  
});
//]]>
</script></div>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-128262-1");
pageTracker._setDomainName(".tractis.com");
pageTracker._trackPageview();
} catch(err) {}</script>


  </body>
</html>